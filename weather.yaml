uid: weather
tags: []
props:
  parameters:
    - description: Location name
      label: Location
      name: location
      required: true
      type: TEXT
    - description: Prefix for item names (e.g. OneCallAPIWeatherandForecast_)
      label: Item prefix
      name: itemPrefix
      required: true
      type: TEXT
  parameterGroups: []
timestamp: Oct 8, 2021, 2:32:43 PM
component: f7-card
config:
  title: =props.location
  style:
    noShadow: false
    padding: 0px
    border-radius: var(--f7-card-expandable-border-radius)
    box-shadow: 5px 5px 10px 1px rgba(0,0,0,0.1)
    height: 350px
    margin-left: 5px
    margin-right: 5px
slots:
  default:
    # current weather
    - component: f7-block
      config:
        class:
          - no-padding
          - no-margin
        style:
          background: "=(dayjs().format() >= items[((!props.itemPrefix) ? '' : props.itemPrefix) + 'ForecastToday_Sunrise'].state && dayjs().format() < items[((!props.itemPrefix) ? '' : props.itemPrefix) + 'ForecastToday_Sunset'].state) ? 'linear-gradient(to bottom, #3655b8e, #c0d4f0)' : 'linear-gradient(to bottom, #413D8F, #CE9FC8)'"
          background-size: cover
          background-repeat: no-repeat
          background-position: bottom left
          padding: 30px 0 60px 0
          margin-top: 0
      slots:
        default:
          - component: oh-trend
            config:
              trendItem: =props.item
              trendGradient:
                - "#aa2b1d"
                - "#cc561e"
                - "#ef8d32"
                - "#beca5c"
              style:
                --f7-theme-color-bg-color: transparent
                background: var(--f7-theme-color-bg-color)
                filter: opacity(30%)
                position: absolute
                width: 100%
                height: 100%
                top: 0px
                left: 0px
                z-index: 1
          # riga 1
          - component: f7-row
            config:
              class:
                - no-gap
            slots:
              default:
                - component: f7-col
                  config:
                    style:
                      text-align: center
                  slots:
                    default:
                      - component: Label
                        config:
                          text: "=Number(items[props.itemPrefix + 'Current_Temperature'].state.split(' ')[0]).toFixed(1) + '째'"
                          style:
                            font-size: 60px
        # riga 1
          - component: f7-row
            config:
              class:
                - no-gap
            slots:
              default:
                - component: f7-col
                  config:
                    style:
                      text-align: center
                  slots:
                    default:
                      - component: Label
                        config:
                          text: Cielo coperto
                          style:
                            font-size: 20px
        # percepita
          - component: f7-row
            config:
              class:
                - no-gap
            slots:
              default:
                - component: f7-col
                  config:
                    style:
                      text-align: center
                  slots:
                    default:
                      - component: Label
                        config:
                          text: 'percepita: 19.9째'
                          style:
                            font-size: 20px
    # forecast
    - component: f7-block
      config:
        style:          
          top: 15px
      slots:
        default:
        # riga 1
          - component: f7-row
            config:
              class:
                - no-gap
            slots:
              default:
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 100px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: Previsione
                          style:
                            font-size: 17px
                            font-weight: 600
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 20px
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: T min
                          style:
                            font-size: 17px
                            font-weight: 600
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: T max
                          style:
                            font-size: 17px
                            font-weight: 600
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: f7-icon
                        config:
                          f7: wind
                          size: 20
                          style:
                            margin-top: -1px
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 80px
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 100px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: Precipitazioni
                          style:
                            font-size: 17px
                            font-weight: 600
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: mm
                          style:
                            font-size: 17px
                            font-weight: 600
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: UV
                          style:
                            font-size: 17px
                            font-weight: 600
        # OGGI
          - component: f7-row
            config:
              class:
                - no-gap
            slots:
              default:
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 100px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: Venerdi 8
                          style:
                            font-size: 17px
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 20px
                  slots:
                    default:
                      - component: oh-icon
                        config:
                          icon: 'temperature'
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: 13.8째
                          style:
                            font-size: 17px
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: 18째
                          style:
                            font-size: 17px
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: NNE
                          style:
                            font-size: 17px
                - component: f7-col
                  config:
                    style:
                      text-align: left
                      width: 80px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: 34 km/h
                          style:
                            font-size: 17px
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 100px
                  slots:
                    default:
                      - component: f7-block
                        config:
                          style:
                            position: absolute
                            width: 50px
                            height: 25px                    
                            margin-top: 0px
                            opacity: .30
                            background-color: red                            
                      - component: Label
                        config:
                          text: 42%
                          style:
                            font-size: 17px                            
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: 13.6
                          style:
                            font-size: 17px
                - component: f7-col
                  config:
                    style:
                      text-align: center
                      width: 50px
                  slots:
                    default:
                      - component: Label
                        config:
                          text: 2,3
                          style:
                            font-size: 17px                               
